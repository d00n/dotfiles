GIT_PS1_SHOWDIRTYSTATE=1
GIT_PS1_SHOWUNTRACKEDFILES=1
export VIRTUAL_ENV_DISABLE_PROMPT=true

bash_prompt()
{
	# colors
	local BLACK="\[\033[00;30m\]"
	local GRAY="\[\033[00;m\]"
	local RED="\[\033[00;31m\]"
	local GREEN="\[\033[00;32m\]"
	local YELLOW="\[\033[00;33m\]"
	local BLUE="\[\033[00;34m\]"
	local MAGENTA="\[\033[00;35m\]"
	local CYAN="\[\033[00;36m\]"
	local WHITE="\[\033[00;37m\]"
	local END_COLOR="\[\033[00m\]"


	# solarized theme 
	# iterm2 settings
	# [ ] draw bold text in bold font
	# [ ] draw bold text in bright colors
	local BLACK="\[\033[38;05;10m\]"
	local GRAY="\[\033[38;05;12m\]"
	local RED="\[\033[38;05;160m\]"
	local PURPLE="\[\033[38;05;61m\]"

	local DEFAULT_COLOR=$GRAY
	local USERNAME_COLOR=$BLACK
	local VIRTUALENV_COLOR=$MAGENTA
	local GIT_COLOR=$GREEN

	local HOSTNAME_COLOR
	case $BOXSET in
		"prod") HOSTNAME_COLOR=$RED ;;
		"stage") HOSTNAME_COLOR=$MAGENTA ;;
		*) HOSTNAME_COLOR=$PURPLE ;;
	esac


	# prompt
	local HOSTNAME="$HOSTNAME_COLOR\h$END_COLOR"
	local USERNAME="[$USERNAME_COLOR\u@$END_COLOR$HOSTNAME$USERNAME_COLOR]$END_COLOR"
	local LOCATION="$BLUE[\w]$END_COLOR"
	local CURSOR="$REDâž¤$END_COLOR"
	local GIT="$GIT_COLOR\$(__git_ps1 '[%s]')$END_COLOR"
	local VIRT_ENV=""
	if [ -n "$VIRTUAL_ENV" ] ; then
		VIRT_ENV="$VIRTUALENV_COLOR[`basename \"$VIRTUAL_ENV\"`]$END_COLOR"
	fi

	DIVIDER=""
	X=1
	while [ $X -le 81 ]
	do
		DIVIDER="_$DIVIDER"
		X=$(( $X +1 ))
	done

	DIVIDER="$WHITE$DIVIDER$END_COLOR"
	FIRSTLINE=$USERNAME$VIRT_ENV$GIT$LOCATION

	export PS1="$DIVIDER\n$FIRSTLINE\n$CURSOR "
}

bash_prompt
unset -f bash_prompt

